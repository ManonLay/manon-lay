function closeModal(e){$(e).fadeOut()}function nav(e){var a="download"!=e?$("#"+e).offset().top-(680>=$windowWidth?0:123):$("#"+e).offset().top-(680>=$windowWidth?0:38);$("html, body").animate({scrollTop:a},"slow")}function initGoogleMap(e,a){var o,t=new google.maps.LatLng(e,a),i=[{featureType:"all",elementType:"all",stylers:[{weight:.1},{lightness:1},{gamma:1},{saturation:-75},{hue:"#666999"},{visibility:"on"}]}],n={zoom:12,center:t,mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1,navigationControl:!1,mapTypeControl:!1,scaleControl:!1,draggable:!1};o=new google.maps.Map(document.getElementById("map"),n);var s=new google.maps.StyledMapType(i,{name:"Grayscale"});o.mapTypes.set("map_toulouse",s),o.setMapTypeId("map_toulouse")}function send(){console.info("sending"),$.ajax({url:"php/mail.php",type:"post",dataType:"json",data:{nom:$("#nom").val(),mail:$("#mail").val(),objet:$("#objet").val(),message:$("#message").val()},success:function(e){console.info(e),$("#messageBox").html(e)}})}var $windowWidth=$(window).width();$(document).ready(function(){$(".parallax-0").height($(window).height()-$("body > nav").height()+$(".triangle-separator > img").height()),$(".parallax-0 > h1").css("line-height",$(window).height()-$("body > nav").height()+$(".triangle-separator > img").height()+"px"),430>=$windowWidth?($("body > nav > .menu-mobile a").text(""),$("body > nav > .menu-mobile a").css("width","70px")):($("body > nav > .menu-mobile a").text("MANON LAY"),$("body > nav > .menu-mobile a").css("width","220px")),$(window).resize(function(){$windowWidth=$(window).width(),$(".parallax-0").height($(window).height()-$("body > nav").height()+$(".triangle-separator > img").height()),$(".parallax-0 > h1").css("line-height",$(window).height()-$("body > nav").height()+$(".triangle-separator > img").height()+"px"),430>=$windowWidth?($("body > nav > .menu-mobile a").text(""),$("body > nav > .menu-mobile a").css("width","70px")):($("body > nav > .menu-mobile a").text("MANON LAY"),$("body > nav > .menu-mobile a").css("width","220px"))}),initGoogleMap(43.604652,1.444209);var e=$("body > nav").height(),a=new Array("#about-me + section","#skills + section","#realisations + section","#download + section","#contact + section");$(window).scroll(function(){$.each(a,function(a,o){$(window).scrollTop()+$(window).height()>=$(o).position().top+.25*$(o).height()&&$(o).attr("class").indexOf("load")<0&&$(o).attr("class",$(o).attr("class")+" load"),$(window).scrollTop()>=$(o).position().top-2*e?$("body > nav > nav:last-child > div").children().eq(a).css("color","#fbfbfb"):$("body > nav > nav:last-child > div").children().eq(a).css("color","#aaa")}),$(window).scrollTop()>=$("header").position().top+($("header").height()-2*e)?($("body > nav > nav:first-child").css("height","0"),$("body > nav").css("height","85px"),$("body > nav > nav:first-child").css("overflow","hidden")):($("body > nav > nav:first-child").css("height","35px"),$("body > nav").css("height","120px"))}),$("footer p:first-child a").leanModal(),$.validator.addMethod("regex",function(e,a,o){return o.test(e)},"L'adresse email ou le numéro de passe n'est pas valide."),$("#contactForm").validate({submitHandler:function(){send()},rules:{mail:{regex:/^[a-zA-Z0-9._-]+@[a-zA-Z0-9-]+\.[a-zA-Z.]{2,5}$/}},messages:{nom:"Le nom est obligatoire.<br>",mail:"L'adresse mail est obligatoire ou n'est pas valide.<br>",objet:"L'objet du message est obligatoire.<br>",message:"Le message est obligatoire et accepte au moins 5 caractères.<br>"},errorLabelContainer:"#messageBox"})});